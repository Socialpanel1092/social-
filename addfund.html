<!-- Add this to your addfund.html -->
<div style="max-width:400px;margin:40px auto;padding:24px;border-radius:16px;box-shadow:0 4px 24px rgba(0,0,0,0.08);background:#fff;">
  <h2 style="text-align:center;color:#0a2540;">Fund Wallet</h2>
  <form id="fundWalletForm" onsubmit="event.preventDefault(); openFlutterwaveModal();">
    <input type="number" id="amount" placeholder="Amount (NGN)" required style="width:100%;margin-bottom:12px;padding:10px;border-radius:8px;border:1px solid #eee;">
    <button type="submit" style="width:100%;background:#ff7000;color:#fff;padding:12px;border:none;border-radius:8px;font-weight:bold;cursor:pointer;">Deposit</button>
  </form>
</div>

<!-- Flutterwave JS SDK -->
<script src="https://checkout.flutterwave.com/v3.js"></script>
<script>
function openFlutterwaveModal() {
  const amount = document.getElementById('amount').value;

  FlutterwaveCheckout({
    public_key: "FLWPUBK-62f085a9124d4d3ea0aebcebf26a4978-X", // Use your LIVE public key in production!
    tx_ref: "FW-" + Date.now(),
    amount: amount,
    currency: "NGN",
    payment_options: "card,banktransfer,ussd",
    customer: {
      email: "user@email.com", // Replace with user's email if available
      name: "Wallet User"      // Replace with user's name if available
    },
    customizations: {
      title: "Fund Wallet",
      description: "Deposit to your wallet",
      logo: "https://flutterwave.com/images/logo-colored.svg"
    },
    callback: function(response) {
      alert("Payment complete! Reference: " + response.transaction_id);
      // Optionally, call your backend to verify and update balance
    },
    onclose: function() {
      // Optional: handle modal close
    }
  });
}
</script>
