<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Social Media Boost Panel</title>
	<style>
		.form-group {
			position: relative;
			margin-bottom: 2rem;
		}
		.form-group input,
		.form-group select,
		.form-group textarea {
			width: 100%;
			padding: 1.2rem 0.7rem 0.5rem 0.7rem;
			border-radius: 5px;
			border: 1px solid #ccc;
			background: none;
			font-size: 1rem;
			outline: none;
		}
		.form-group label {
			position: absolute;
			top: 1.2rem;
			left: 0.8rem;
			color: #888;
			font-size: 1rem;
			pointer-events: none;
			transition: 0.2s ease all;
			background: #fff;
			padding: 0 0.2rem;
		}
		.form-group input:focus + label,
		.form-group input:not(:placeholder-shown) + label,
		.form-group textarea:focus + label,
		.form-group textarea:not(:placeholder-shown) + label {
			top: -0.7rem;
			left: 0.6rem;
			font-size: 0.85rem;
			color: #2d3e50;
		}
	body { font-family: Arial, sans-serif; background: #f4f6fa; margin: 0; }
	header { background: #2d3e50; color: #fff; padding: 2rem 0; text-align: center; position: relative; }
	.panel { background: #fff; max-width: 700px; margin: 2rem auto; box-shadow: 0 2px 8px rgba(0,0,0,0.08); border-radius: 10px; padding: 2rem; }
	.contact { background: #fff; max-width: 700px; margin: 2rem auto; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); padding: 2rem; }
	.contact input, .contact textarea { width: 100%; padding: 0.7rem; margin: 0.5rem 0; border-radius: 5px; border: 1px solid #ccc; }
	.contact button { background: #2d3e50; color: #fff; border: none; padding: 0.8rem 2rem; border-radius: 5px; cursor: pointer; }
	.bouncy-border {
		animation: borderBounce 1.2s infinite alternate;
		box-shadow: 0 0 0 0 #2d3e50;
	}
	@keyframes borderBounce {
		0% { box-shadow: 0 0 0 0 #2d3e50; }
		50% { box-shadow: 0 0 8px 2px #2d3e50; }
		100% { box-shadow: 0 0 0 0 #2d3e50; }
	}
	.balance-panel { margin-top: 1rem; display: flex; justify-content: center; align-items: center; gap: 1rem; }
	.balance-panel span { font-size: 1.2rem; font-weight: bold; }
	.modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4); }
	.modal-content { background: #fff; margin: 10% auto; padding: 2rem; border-radius: 10px; max-width: 350px; text-align: center; position: relative; box-shadow: 0 2px 8px rgba(0,0,0,0.15); }
	.close { position: absolute; top: 10px; right: 20px; font-size: 2rem; cursor: pointer; color: #2d3e50; }
	</style>
</head>
<body>
	<header>
	<h1>Boost Your Social Media</h1>
	<p>Grow your online presence with our all-in-one social media boosting panel</p>
		<div class="balance-panel">
			<span>Account Balance: $<span id="accountBalance">0</span></span>
			<button id="addFundsBtn">Add Funds</button>
		</div>
	</header>
	<section class="panel">
	<h2>Order Social Media Boost</h2>
		<form id="orderForm">
			<div class="form-group">
				<select id="category" name="category" required class="bouncy-border">
					<option value="" disabled selected hidden></option>
					<option value="Instagram">Instagram</option>
					<option value="Facebook">Facebook</option>
					<option value="Twitter">Twitter</option>
					<option value="TikTok">TikTok</option>
				</select>
				<label for="category">Choose Category</label>
			</div>
			<div class="form-group">
				<select id="service" name="service" required class="bouncy-border">
					<option value="" disabled selected hidden></option>
				</select>
				<label for="service">Choose Service</label>
			</div>
			<div class="form-group">
				<input type="url" id="link" name="link" placeholder=" " required class="bouncy-border">
				<label for="link">Link to Boost</label>
			</div>
			<div class="form-group">
				<input type="text" id="price" name="price" readonly placeholder=" " class="bouncy-border">
				<label for="price">Charge per Order</label>
			</div>
			<button type="submit">Submit Order</button>
		</form>
		<p id="orderStatus" style="color:green;"></p>
		<p style="text-align:center;">Fast delivery, affordable prices, and 24/7 support!</p>
		<!-- Deposit Modal -->
		<div id="depositModal" class="modal">
			<div class="modal-content">
				<span class="close" id="closeModal">&times;</span>
				<h2>Deposit Funds</h2>
				<div class="form-group">
					<input type="number" id="depositAmount" min="1" placeholder=" " required class="bouncy-border">
					<label for="depositAmount">Enter amount to deposit</label>
				</div>
				<br><br>
				<button id="depositBtn">Deposit</button>
			</div>
		</div>
	</section>
	<section class="contact">
		<h2>Contact Us</h2>
		<form>
			<div class="form-group">
				<input type="text" placeholder=" " required class="bouncy-border">
				<label>Your Name</label>
			</div>
			<div class="form-group">
				<input type="email" placeholder=" " required class="bouncy-border">
				<label>Your Email</label>
			</div>
			<div class="form-group">
				<textarea rows="4" placeholder=" " required class="bouncy-border"></textarea>
				<label>Your Message</label>
			</div>
			<button type="submit">Send Message</button>
		</form>
	</section>
	<script>
		// Dashboard protection: require login
		if (!localStorage.getItem('token') || !localStorage.getItem('email')) {
			window.location.href = 'index.html';
		}

		// Use logged-in email for API calls
		const userEmail = localStorage.getItem('email');
		const accountBalanceSpan = document.getElementById('accountBalance');
		// Fetch balance from backend
		function fetchBalance() {
			fetch(`/api/balance/${userEmail}`)
				.then(res => res.json())
				.then(data => {
					accountBalanceSpan.textContent = data.balance;
				});
		}
		fetchBalance();
		// Example service and price data
		const serviceData = {
			Instagram: {
				'Followers': 5,
				'Likes': 3,
				'Views': 2
			},
			Facebook: {
				'Page Likes': 4,
				'Post Engagement': 3
			},
			Twitter: {
				'Followers': 4,
				'Retweets': 2,
				'Likes': 2
			},
			TikTok: {
				'Followers': 6,
				'Likes': 3,
				'Views': 2
			}
		};

		let accountBalance = 0;
		const accountBalanceSpan = document.getElementById('accountBalance');
		const addFundsBtn = document.getElementById('addFundsBtn');
		const depositModal = document.getElementById('depositModal');
		const closeModal = document.getElementById('closeModal');
		const depositBtn = document.getElementById('depositBtn');
		const depositAmountInput = document.getElementById('depositAmount');

		addFundsBtn.onclick = function() {
			window.location.href = 'addfund.html';
		};

		// Modal logic for deposit (simulate deposit)
		addFundsBtn.addEventListener('contextmenu', function(e) {
			e.preventDefault();
			depositModal.style.display = 'block';
		});
		closeModal.onclick = function() {
			depositModal.style.display = 'none';
			depositAmountInput.value = '';
		};
		depositBtn.onclick = function() {
			const amount = parseFloat(depositAmountInput.value);
			if (!isNaN(amount) && amount > 0) {
				accountBalance += amount;
				accountBalanceSpan.textContent = accountBalance;
				depositModal.style.display = 'none';
				depositAmountInput.value = '';
			}
		};
		window.onclick = function(event) {
			if (event.target == depositModal) {
				depositModal.style.display = 'none';
				depositAmountInput.value = '';
			}
		};

		// Order form logic
		const categorySelect = document.getElementById('category');
		const serviceSelect = document.getElementById('service');
		const priceInput = document.getElementById('price');

		categorySelect.addEventListener('change', function() {
			serviceSelect.innerHTML = '<option value="">Select...</option>';
			priceInput.value = '';
			if (serviceData[this.value]) {
				Object.keys(serviceData[this.value]).forEach(service => {
					const opt = document.createElement('option');
					opt.value = service;
					opt.textContent = service;
					serviceSelect.appendChild(opt);
				});
			}
		});

		serviceSelect.addEventListener('change', function() {
			const category = categorySelect.value;
			const service = this.value;
			if (serviceData[category] && serviceData[category][service]) {
				priceInput.value = '$' + serviceData[category][service] + ' per order';
			} else {
				priceInput.value = '';
			}
		});

		document.getElementById('orderForm').addEventListener('submit', function(e) {
			e.preventDefault();
			// Placeholder for backend integration
			// You can use fetch() to send order to your server, email, or Flutterwave
			document.getElementById('orderStatus').textContent = 'Order submitted! (Backend integration needed)';
		});
	</script>
</body>
</html>
